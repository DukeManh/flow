<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="./favicon.ico" type="image/ico">
  <title>Flow</title>
  <link rel="stylesheet" href="./styles.css">
</head>

<body class="dark">
  <div class="header">
    <h1 style="display: flex; align-items: center; font-family: 'Courier New', Courier, monospace; font-size: 1.5em; letter-spacing: 0.05em;">
      <img src="./favicon.ico" alt="Flow State Logo" style="height: 1.3em; margin-right: 0.5em;">  <span style="font-style: italic">Flow ∞ State</span>
    </h1>
    <div id="datetime"></div>
    <div>
      <button id="distractionToggle" title="Toggle Distraction-Free">🚫</button>
      <button id="themeToggle" title="Toggle Light/Dark">🌙</button>
    </div>
  </div>
  <div class="container">
    <div class="card" id="timerCard">
      <h2>⏱️ 52/17 Rule<span class="tooltip"
          title="Engage in 52 minutes of uninterrupted focus followed by a 17-minute restorative breakt">ℹ️</span>
      </h2>
      <div class="progress-bar">
        <div class="progress" id="progress"></div>
      </div>
      <div id="timerLabel">Focus Time</div>
      <div id="timer">52:00</div>
      <div class="controls">
        <button id="startBtn">Lock In</button>
        <button id="pauseBtn">Pause</button>
        <button id="endBtn">End</button>
        <button id="resetBtn">Reset</button>
      </div>
      <p class="note">🎯 Focus on one task at a time.</p>
      <p class="note">⏳ Set clear, bite-sized goals.</p>

      <div id="soundSettings">
        <h3>Sound Notifications</h3>
        <div class="sound-controls">
          <input type="checkbox" id="soundToggle" checked>
          <label for="soundToggle">Enable sound notifications</label>
          <button id="testSoundBtn" style="display: none;">Test Sound</button>
        </div>
      </div>
    </div>
    <div class="card" id="goalCard">
      <h2>🎯 What is your goal today?</h2>
      <div id="goalContainer"></div>
    </div>
    <div class="card" id="todoCard">
      <h2>📝 Tasks</h2>
      <div class="todo-input">
        <input type="text" id="todoInput" placeholder="Add a task…">
        <button id="addTodoBtn">Add</button>
      </div>
      <ul id="todoList"></ul>
    </div>
    <div class="card" id="insightsCard">
      <h2>📊 Productivity Insights</h2>
      <div class="chart-title">Focus Time - Last 7 Days</div>
      <div id="chartContainer"></div>
    </div>
    <div class="card" id="musicCard">
      <h2>🎶 Tunes</h2>
      <iframe id="ytPlayer" src="https://www.youtube.com/embed/wL8DVHuWI7Y?autoplay=1&loop=1&playlist=wL8DVHuWI7Y"
        allow="autoplay; encrypted-media"></iframe>
      <div class="controls">
        <button id="vBtn">VØJ, Narvent</button>
        <button id="bBtn">Binaural Beats</button>
        <button id="lBtn">Lofi</button>
        <input type="text" id="customVidInput" placeholder="YouTube ID…">
        <button id="loadBtn">Load</button>
      </div>
    </div>
    <div class="card" id="historyCard">
      <h2>📜 Session History</h2>
      <ul id="historyList"></ul>
    </div>
  </div>

  <!-- Updated audio elements with local file paths -->
  <audio id="startSound" src="./button.wav"></audio>
  <audio id="endSound" src="./alarm-bell.wav"></audio>
  <audio id="pauseSound" src="./button.wav"></audio>

  <script src="./global.js"></script>
  <script src="./index.js"></script>
</body>

</html>
